# Roadmap

很多人问起过我社区版的roadmap，正所谓哪壶不开提哪壶，从社区版第一次发布以来，就不存在roadmap这个东西。仔细回顾了一下社区版的版本发布历程，我自己总结为以下几个方面：

* 苹果、谷歌最新审核要求第一优先适配。（ipv6，ssh，OpenSSL等）
* 第三方库必须的更新。（Spine runtime）
* 必要的工具链更新。（Android Studio）
* 各种Bug修正。
* 模块化编译。
* 网络数据协议等第三方模块加入。
* 去掉与Lua不相干的CPP模块。

而引擎修改的始终贯彻以下原则：

* 专注 Lua
* 稳定性优先
* 包体积优先
* 专注2D，3D不做更新。
* API的兼容性（即将打破）

## 未来展望

Quick 2.x 在独立发展阶段，有很多独创改进一直领先于cocos2dx，在进入3.x合并在一起后，出现了好几个双模块做同样的事情。有代码恶癖的人是不能忍受这种存在的，在未来的改进中，会持续做**减法**。

**不破不立**，接下来的版本更新将会放弃API兼容性。

1. audio引擎的替换。
	Simple Audio Engine确实太简单了，平台差异太大，限制多；新的声音引擎实现过于复杂，同样的事情在Lua中做会简单很多。
    音频引擎的选择将是 OpenAL + ogg 解码库，强制预加载才能播放，预加载使用异步模式。缺点：Android的so预计会增加500k左右，优点：全平台表现统一，音频文件格式统一。
2. 去掉quick触摸事件分发系统。quick的触摸事件在2.x时代是很优秀的，但是3.x在cpp中做了同样的事情，并且输入法这个梗一直无法跨过。后续将会去掉quick的触摸事件系统，直接用3.x的触摸事件系统在Lua层封装。
3. 去掉3.x的 HttpClient，保留quick的http模块。很简单，quick的http在android上裁剪体积更有效。
4. UI系统。这部分是最麻烦，代码也最多的部分。
	* textfield和editbox。textfield的去掉取决于cocosstudio的支持。
	* labelTTF等和label。label已一统江湖，就看如何去掉其它多余的。
	* quick UI和C++ UI的选择，cocosstudio编辑器是否跟进，以及跟进到哪个版本，非常的头痛。
5. 双Tiledmap render的关系处理。
6. 自动绑定代码垃圾处理，不再使用自动绑定系统。绑定的一大堆new完全是拿来增加so体积的，auto的文件手动拆分，8w多行的自动代码拆分为多个文件编译维护。